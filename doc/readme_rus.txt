каталог query_dataset
----------------------

audio_assistant_queries.csv - содержит Request: запрос к модели, Response - ground truth ответ.
                              файл получен соединением файлов после генерации двумя программами
                              query_gen2.py и query_gen_control.py синтетических запросов и ответов                            
                              
gemma_audio_va_result2.json - содержит датасет с набором: текст запроса, ground truth ответ, реальный ответ модели.
                              реальный ответ получен в программе textrq.ipynb

audioplayer_va - содержит датасет с TTS-генерацией двумя голосами (мужской, женский) текстов запроса.
                 в заголовочном файле к нему audioplayer_va.csv содержится:
                 user_text - текст запроса,
                 user_audio - имя wav-файла,
                 assistant_text - gt ответ (из gemma_audio_va_result2.json)
                 генерация производилась в tts_gen.ipynb
                 

каталог voice1example
---------------------

audioplayer_va_asr.csv - Используя audioplayer_va.csv и wav-файлы в audioplayer_va модель принимала
                         на вход аудио-файлы и генерировала tool_call запись. Тоже самое, что в
                         textrq.ipynb, но напрямую из wav-файлов. Результат содержит:
                         user_text - текст запроса,
                         user_audio - имя wav-файла,
                         assistant_text - gt ответ (из gemma_audio_va_result2.json)
                         asr_text - ответ модели на wav-файл
                         Для генерации использована программа voice1.ipynb (содержит также пример вызова audioplay)
                         
                         
////////

apt-get install libportaudio2

pip install flask pygame

Особенности программы:

    Асинхронное воспроизведение - не блокирует основной поток

    Два режима работы:

        /tts/speak - генерация и немедленное воспроизведение

        /tts/generate - только генерация с возвратом WAV-файла

    Поддержка разных языков (через параметр language)

    Возможность остановки текущего воспроизведения

    Проверка здоровья сервиса

    Конфигурация через JSON файл или параметры по умолчанию

    Логирование всех операций

Сервис использует XTTS v2 модель, которая поддерживает множество языков и позволяет клонировать голос из небольшого аудиофайла.                         

----------------

каталог pipeline1
-------------------

Примитивный пайплайн управления проигрывателем с помощью голоса.
Программа va_ver1.ipynb принимает 

///////////////

Есть проблема: часто распознает названия музыки неточно. Надо улучшить алгоритм поиск в базе. Добавить нечеткого поиска. В том числе русский латиницей и наоборот.
Часто play_back stopped, когда не stopped

Качество зависит от уровня сигнала микрофона. Компромисс: меньше уровень - лучше выделяет речь, если большой уровень может начать распознавать от самой музыки. 90% вроде неплохо.
